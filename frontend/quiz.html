<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Прохождение теста</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container mt-5">
    <h2 id="quiz-title">Загрузка викторины...</h2>
    <div id="questions" class="mt-4"></div>
  </div>

  <script>
    const API_BASE = "http://localhost:8082"; // или куда у тебя отправляются запросы

    const urlParams = new URLSearchParams(window.location.search);
    const quizId = urlParams.get("id");

    fetch(`${API_BASE}/quizzes/${quizId}`)
      .then(res => res.json())
      .then(quiz => {
        document.getElementById("quiz-title").textContent = quiz.title;

        const questionsContainer = document.getElementById("questions");
        quiz.questions.forEach((q, index) => {
          const div = document.createElement("div");
          div.className = "mb-4";
          div.innerHTML = `
            <h5>${index + 1}. ${q.text}</h5>
            ${q.answers.map(a => `
              <div class="form-check">
                <input class="form-check-input" type="radio" name="q${index}" value="${a.id}">
                <label class="form-check-label">${a.text}</label>
              </div>
            `).join("")}
          `;
          questionsContainer.appendChild(div);
        });
      })
      .catch(err => {
        console.error(err);
        document.getElementById("quiz-title").textContent = "Ошибка загрузки викторины.";
      });
  </script>
</body>
</html>
